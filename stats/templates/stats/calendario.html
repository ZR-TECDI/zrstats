{% extends 'stats/base.html' %}
{% load static %}

{% block head_extra %}
    <link rel="stylesheet" href="{% static 'stats/fullcalendar/packages/core/main.css' %}" />
    <link rel="stylesheet" href="{% static 'stats/fullcalendar/packages/daygrid/main.css' %}" />
    <link rel="stylesheet" href="{% static 'stats/fullcalendar/packages/bootstrap/main.css' %}" />




{% endblock %}

{% block head_title %}
    Calendario
{% endblock %}

{% block breadcrumbs %}
<ol class="breadcrumbs">
    <li>
        <a href="{% url 'stats:index' %}">
            <i class="fa fa-home"></i>
        </a>
    </li>
    <li><span>Calendario</span></li>
</ol>
{% endblock %}

{% block titulo_pagina %}
    Calendario
{% endblock %}

{% block content %}

<div class="row">
    <div class="col-md-3"></div>
    <div class="col-md-6">
        <section class="panel panel-featured">
            <header class="panel-heading">
                <div class="panel-actions">
                <a href="#" class="fa fa-caret-down"></a>
                <a href="#" class="fa fa-times"></a>
                </div>
                <h2 class="panel-title">Title</h2>
            </header>
            <div class="panel-body">
                <div id="calendar"></div>
            </div>
        </section>
    </div>
</div>


{% endblock %}

{% block extra_scripts %}
    <script src="{% static 'stats/fullcalendar/packages/core/main.js' %}"></script>
    <script src="{% static 'stats/fullcalendar/packages/daygrid/main.js' %}"></script>
    <script src="{% static 'stats/fullcalendar/packages/bootstrap/main.js' %}"></script>
    <script>

      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            plugins: [ 'dayGrid','bootstrap' ],
            defaultView: 'dayGridMonth',
            locale: 'esLocale',
            themeSystem: 'bootstrap',
            events: [
            {% for m in mision_list %}
            {
              title: "{{ m.title }}",
              start: '{{ m.start|date:"Y-m-d" }}',
              allDay: {{ m.allDay|lower }},
              url: '{{ m.url }}'
            },
            {% endfor %}
            ]
        });

        calendar.render();
      });
    </script>

{% endblock %}